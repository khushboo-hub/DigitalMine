{% extends "base.html" %}

{% block content %}

    {% load staticfiles %}
    <script src="{% static 'js/jscolor.js' %}"></script>
    <div class="container">
        <div class="row">
            <section class="col-md-12">
                <h1 class="page-header">Add/Edit Sensor Under ( <span style="color:Tomato;">{{ mine_name }}</span> /
                    <span style="color:Tomato;">{{ node_name }}</span> )</h1>
                <div class="row text-center">
                    <div class="col-md-12">
                        <a class="btn btn-primary" href="{% url 'sensor:manage_sensor' mine node_id %}">Manage Sensor</a>
                    </div>
                </div>
                <hr>
                <!-- Table content -->
                <div class="row">
                    <div class="form-group">
                        <form class="form-horizontal" method="post" enctype="multipart/form-data">{% csrf_token %}
                            <div class="input-group">
                                <input type="hidden" id="mine_id" type="text" class="form-control"
                                       value="{{ mine }}">
                            </div>
                            <div class="input-group">
                            <div class="input-group">
                                <input type="hidden" id="node_id" type="text" class="form-control" value="{{ node_id }}">
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Sensor ID:<span style="color: red; ">*</span></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.sensor_id }}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Sensor Name:<span style="color: red; ">*</span></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.sensor_name }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Sensor Unit:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.sensor_unit }}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Threshold Value:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.sensor_threshold_limit }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-1 Warning Unit:<font
                                                color="red">*</font></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.level_1_warning_unit }}
                                        <span style="color:red">{{form.level_1_warning_unit.errors|striptags}}</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-1 Color:</label>
                                    </div>
                                    <div class="col-md-5">
                                        {{ form.level_1_color }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-2 Warning Unit:<font
                                                color="red">*</font></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.level_2_warning_unit }}
                                        <span style="color:red">{{form.level_2_warning_unit.errors|striptags}}</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-2 Color:</label>
                                    </div>
                                    <div class="col-md-5">
                                        {{ form.level_2_color }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-3 Warning Unit:<font
                                                color="red">*</font></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.level_3_warning_unit }}
                                        <span style="color:red">{{form.level_3_warning_unit.errors|striptags}}</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-3 Color:</label>
                                    </div>
                                    <div class="col-md-5">
                                        {{ form.level_3_color }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">IP Address:<font color="red">*</font></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.ip_add }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-1 Message:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.level_1_msg }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-2 Message:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.level_2_msg }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Level-3 Message:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.level_3_msg }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Audio Play Type:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.audio_play_type }}
                                    </div>
                                </div>
                            </div>
                            <!-- -------------------------Audio upload ----------------------------------------------------- -->
                            <div id="audio_container" style="display:None">
                                <div class="form-group col-md-12">
                                    <div class="col-md-12">
                                        <div class="col-md-4">
                                            <label for="" class="" id="">Level-1 Audio:</label>
                                        </div>
                                        <div class="col-md-8">
                                            {{ form.level_1_audio }}
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-12">
                                    <div class="col-md-12">
                                        <div class="col-md-4">
                                            <label for="" class="" id="">Level-2 Audio:</label>
                                        </div>
                                        <div class="col-md-8">
                                            {{ form.level_2_audio }}
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-12">
                                    <div class="col-md-12">
                                        <div class="col-md-4">
                                            <label for="" class="" id="">Level-3 Audio:</label>
                                        </div>
                                        <div class="col-md-8">
                                            {{ form.level_3_audio }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Time Interval(in Sec):<font
                                                color="red">*</font></label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.interval_time }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <label for="" class="" id="">Description:</label>
                                    </div>
                                    <div class="col-md-8">
                                        {{ form.description }}
                                    </div>
                                </div>
                            </div>


                            <div class="text-center">
                                <input type="submit" class="btn btn-primary" value="Submit"/>
                            </div>
                        </form>
                    </div>
                </div><!--end Table content -->
            </section>
        </div>
    </div>
    <style>

    </style>
    <script>
        $(document).ready(function () {

            $("#id_mine_name").addClass('form-control');
            $("#id_mine").addClass('form-control');
            $("#id_name").addClass('form-control');
            $("#audio_container").show();


            if ($('#id_audio_play_type_0').is(':checked')) {
                $("#audio_container").hide();
            }
            $("input[name$='audio_play_type']").change(function () {

                var is_value = $(this).val();
                if (is_value == "text2voice") {
                    $("#audio_container").hide();
                } else {
                    $("#audio_container").show();
                }

            });
        });
    </script>

{% endblock %}

