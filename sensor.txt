BEGIN;
--
-- Create model gasModel_auto
--
CREATE TABLE `gasmodel_auto` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `mine_id` integer NOT NULL, `node_id` integer NOT NULL, `sensor_name` varchar(10) NOT NULL, `sensor_id` integer NOT NULL, `sensor_value` varchar(50) NOT NULL, `date_time` datetime(6) NOT NULL);
--
-- Create model Node
--
CREATE TABLE `sensor_node` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `node_id` varchar(200) NOT NULL, `name` varchar(200) NOT NULL, `location` varchar(200) NOT NULL, `x_axis` double precision NOT NULL, `y_axis` double precision NOT NULL, `photo1` varchar(100) NULL, `photo2` varchar(100) NULL, `description` longtext NOT NULL, `isgoaf` bool NOT NULL, `mine_id_id` integer NOT NULL);
--
-- Create model Sensor_Node
--
CREATE TABLE `sensor_sensor_node` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `ip_add` varchar(200) NOT NULL, `sensor_id` varchar(200) NOT NULL, `sensor_name` varchar(200) NOT NULL, `sensor_unit` varchar(200) NOT NULL, `sensor_threshold_limit` varchar(200) NOT NULL, `level_1_warning_unit` integer NOT NULL, `level_2_warning_unit` integer NOT NULL, `level_3_warning_unit` integer NOT NULL, `level_1_color` varchar(50) NULL, `level_2_color` varchar(50) NULL, `level_3_color` varchar(50) NULL, `level_1_msg` varchar(200) NULL, `level_2_msg` varchar(200) NULL, `level_3_msg` varchar(200) NULL, `level_1_audio` varchar(100) NULL, `level_2_audio` varchar(100) NULL, `level_3_audio` varchar(100) NULL, `interval_time` integer NULL, `audio_play_type` varchar(10) NOT NULL, `description` longtext NOT NULL, `created_date` datetime(6) NOT NULL, `modified_date` datetime(6) NOT NULL, `mine_id_id` integer NOT NULL, `node_id_id` integer NOT NULL);
ALTER TABLE `sensor_node` ADD CONSTRAINT `sensor_node_mine_id_id_22542281_fk_MineDetails_id` FOREIGN KEY (`mine_id_id`) REFERENCES `MineDetails` (`id`);
ALTER TABLE `sensor_node` ADD CONSTRAINT `sensor_node_mine_id_id_node_id_52490764_uniq` UNIQUE (`mine_id_id`, `node_id`);
ALTER TABLE `sensor_sensor_node` ADD CONSTRAINT `sensor_sensor_node_mine_id_id_7de6491d_fk_MineDetails_id` FOREIGN KEY (`mine_id_id`) REFERENCES `MineDetails` (`id`);
ALTER TABLE `sensor_sensor_node` ADD CONSTRAINT `sensor_sensor_node_node_id_id_f6b7a19e_fk_sensor_node_id` FOREIGN KEY (`node_id_id`) REFERENCES `sensor_node` (`id`);
ALTER TABLE `sensor_sensor_node` ADD CONSTRAINT `sensor_sensor_node_mine_id_id_node_id_id_sensor_id_c2fd51ed_uniq` UNIQUE (`mine_id_id`, `node_id_id`, `sensor_id`);
COMMIT;
